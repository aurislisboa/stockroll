<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<html th:replace="~{template_base :: layout (~{::title}, ~{::main}, ~{::styles}, ~{::scripts})}" lang="pt-br">
<head>
	<th:block th:fragment="styles">
	<style>
					span i {
						transition: transform 0.5s ease;
					}
					span i:hover {
							transform: scale(1.3);
					}
	</style>
	<style type="text/css">
				/* Chart.js */
			@keyframes chartjs-render-animation {
				from {
						opacity: 0.99;
				}
				to {
						opacity: 1;
				}
			}
			.chartjs-render-monitor {
				animation: chartjs-render-animation 1ms;
			}
			.chartjs-size-monitor,
			.chartjs-size-monitor-expand,
			.chartjs-size-monitor-shrink {
				position: absolute;
				direction: ltr;
				left: 0;
				top: 0;
				right: 0;
				bottom: 0;
				overflow: hidden;
				pointer-events: none;
				visibility: hidden;
				z-index: -1;
			}
			.chartjs-size-monitor-expand > div {
				position: absolute;
				width: 1000000px;
				height: 1000000px;
				left: 0;
				top: 0;
			}
			.chartjs-size-monitor-shrink > div {
				position: absolute;
				width: 200%;
				height: 200%;
				left: 0;
				top: 0;
			}
	</style>
	</th:block>
	<title>Dashboard</title>
</head>
<body>
	<main>
		<div class="container-fluid">

		<!-- Card do Cd-Principal -->
			<div class="row">					
					<div class="col-lg-3 col-6">
						<div class="small-box bg-info">
								<div class="inner">
									<h3 th:text="${totalEstoque}">0</h3>
									<p>Produtos em Estoque</p>
								</div>
								<div class="icon">
									<!-- <i class="ion ion-bag"></i> -->
									<i class="nav-icon fas fa-cubes"></i>
								</div>
								<a th:href="@{/estoque}" class="small-box-footer">Mais Info 
									<i class="fas fa-arrow-circle-right"></i></a>
						</div>
					</div>
					<div class="col-lg-3 col-6">
						<div class="small-box bg-success">
								<div class="inner">
									<h3>53<sup style="font-size: 20px">%</sup></h3>
									<p>Taxa de Vendas</p>
								</div>
								<div class="icon">
									<i class="ion ion-stats-bars"></i>
								</div>
								<a th:href="@{/#}" class="small-box-footer">Mais info 
									<i class="fas fa-arrow-circle-right"></i></a>
						</div>
					</div>
					<div class="col-lg-3 col-6">
						<div class="small-box bg-warning">
								<div class="inner">
									<!-- <h3 th:text="${'R$ ' + valorEstoque}">44</h3> -->
									<h3 th:text="${#numbers.formatCurrency(valorEstoque)}">44</h3>
									<p>Valor Total</p>
								</div>
								<div class="icon">
									<!-- <i class="ion ion-person-add"></i> -->
									<i class="ion ion-cash"></i>
								</div>
								<a th:href="@{/estoque}" class="small-box-footer">Mais info 
									<i class="fas fa-arrow-circle-right"></i></a>
						</div>
					</div>
					<div class="col-lg-3 col-6">
						<div class="small-box bg-danger">
								<div class="inner">
									<h3>65</h3>
									<p>Taxa de Desperdício</p>
								</div>
								<div class="icon">
									<i class="ion ion-pie-graph"></i>
								</div>
								<a th:href="@{/#}" class="small-box-footer">Mais info 
									<i class="fas fa-arrow-circle-right"></i></a>
						</div>
					</div>
			</div><!--row-->
		<!-- End Card do Cd-Principal -->
						
<hr>
			 
		<!--Gráfico -->
<div class="row">
				<div class="col-lg-6 mx-auto">
					<div class="card">
							<div class="card-header border-0">
								<div class="d-flex justify-content-between">
										<h3 class="card-title">Vendas</h3>
										<a href="javascript:void(0);">Ver Relatório</a>
								</div>
							</div>
							<div class="card-body">
								<div class="d-flex">
										<p class="d-flex flex-column">
											<span class="text-bold text-lg">R$ 18.230,00</span>
											<span>Vendas ao longo do tempo</span>
										</p>
										<p class="ml-auto d-flex flex-column text-right">
											<span class="text-success">
													<i class="fas fa-arrow-up"></i> 33.1%
											</span>
											<span class="text-muted">Desde o último mês</span>
										</p>
								</div>
								<div class="position-relative mb-4">
										<canvas id="sales-chart" height="200"></canvas>
								</div>
								<div class="d-flex flex-row justify-content-end">
										<span class="mr-2">
											<i class="fas fa-square text-primary"></i> Este Ano
										</span>
										<span>
											<i class="fas fa-square text-gray"></i> Ano Passado
										</span>
								</div>
							</div><!--card-body-->
					</div><!--card-->
				</div>
				<!--End Gráfico -->

				<!-- Gráfico Pie -->
				<div class="col-lg-6 mx-auto">
					<div class="card card-info">
						<div class="card-header">
							<h3 class="card-title">Pie Chart</h3>
							<div class="card-tools">
								<button type="button" class="btn btn-tool" data-card-widget="collapse" title="gráfico de pizza">
									<i class="fas fa-minus"></i>
								</button>
							</div>
						</div>
						<div class="card-body">
							<div class="chartjs-size-monitor">
								<div class="chartjs-size-monitor-expand">
									<div class="">
									</div>
								</div>
								<div class="chartjs-size-monitor-shrink">
									<div class="">
									</div>
								</div>
							</div>
							<canvas id="pie-chart" 
								style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%; display: block; width: 453px;" 
								width="453" height="250" class="chartjs-render-monitor">
							</canvas>
						</div>
					</div>
				</div>
</div><!--row-->
	<!-- End Gráfico Pie -->

<hr>

	<!-- Cards dos Quiosques -->
		<div class="row">
		<div class="col-lg-12 mx-auto">
			<div th:each="quiosque : ${quiosques}">
				<h5 class="mb-2 mt-1"><strong th:text="${quiosque.nome}">Tatuapé</strong></h5>	
				<div class="row">
						<div class="col-md-3 col-sm-6 col-12">
							<div class="info-box">
								<span class="info-box-icon bg-info"><i class="fas fa-cubes"></i></span>
								<div class="info-box-content">
									<span class="info-box-text">Produtos em Estoque</span>
									<span class="info-box-number ml-2"><h5><strong th:text="${quiosque.totalEstoque}">80</strong></h5></span>
								</div>
							</div>
						</div>
						<div class="col-md-3 col-sm-6 col-12">
							<div class="info-box">
								<span class="info-box-icon bg-success"><i class="fas fa-chart-line"></i></span>
								<div class="info-box-content">
									<span class="info-box-text">Saídas</span>
									<span class="info-box-number ml-2"><h5><strong th:text="${quiosque.totalSaida}">410</strong></h5></span>
								</div>
							</div>
						</div>
						<div class="col-md-3 col-sm-6 col-12">
							<div class="info-box">
								<span class="info-box-icon bg-warning"><i class="far fa-flag"></i></span>
								<div class="info-box-content">
									<span class="info-box-text">Alertas</span>
									<span class="info-box-number ml-2"><h5><strong th:text="${quiosque.totalAlerta}">0</strong></h5></span>
								</div>
							</div>
						</div>
						<div class="col-md-3 col-sm-6 col-12">
							<div class="info-box">
							<span class="info-box-icon bg-danger"><i class="far fa-trash-alt"></i></span>
								<div class="info-box-content">
									<span class="info-box-text">Desperdícios</span>
									<span class="info-box-number ml-2"><h5><strong>0</strong></h5></span>
								</div>
							</div>
						</div>						
				</div><!--row-->
			</div><!--foreach-->
		</div><!--col-->
	</div><!--row-->
	<!--End Cards dos Quiosques -->

<hr>
	<!-- Gráfico Bar -->
	<div class="row">
		<div class="col-lg-6 mx-auto">
			<div class="card card-info">
				<div class="card-header">
					<h3 class="card-title">Bar Chart</h3>
					<div class="card-tools">
						<button type="button" class="btn btn-tool" data-card-widget="collapse" title="gráfico de pizza">
							<i class="fas fa-minus"></i>
						</button>
						<!-- <button type="button" class="btn btn-tool" data-card-widget="remove" title="gráfico de pizza">
							<i class="fas fa-times"></i>
						</button> -->
					</div>
				</div>
				<div class="card-body">
					<div class="chartjs-size-monitor">
						<div class="chartjs-size-monitor-expand">
							<div class="">
							</div>
						</div>
						<div class="chartjs-size-monitor-shrink">
							<div class="">
							</div>
						</div>
					</div>
					<canvas id="abcChart" 
						>
					</canvas>
				</div>
			</div>
		</div>
	</div>
	<!-- End Gráfico Bar -->


			


	<!-- Gráfico Linha -->
	<div class="row">
		<div class="col-lg-6 mx-auto">
			<div class="card card-info">
				<div class="card-header">
					<h3 class="card-title">Line Chart</h3>
					<div class="card-tools">
						<button type="button" class="btn btn-tool" data-card-widget="collapse" title="gráfico de pizza">
							<i class="fas fa-minus"></i>
						</button>
					</div>
				</div>
				<div class="card-body">
					<div class="chartjs-size-monitor">
						<div class="chartjs-size-monitor-expand">
							<div class="">
							</div>
						</div>
						<div class="chartjs-size-monitor-shrink">
							<div class="">
							</div>
						</div>
					</div>
					<canvas id="line-chart" 
						style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%; display: block; width: 453px;" 
						width="453" height="250" class="chartjs-render-monitor">
					</canvas>
				</div>
			</div>
		</div>
	</div>
	<!-- End Gráfico Linha -->




	<!-- Vencimento -->
		<div class="row">
				<div class="col-md-6 col-6">
				<div class="card">
					<div class="card-header">
							<h3 class="card-title">Produtos próximos do vencimento</h3>
					</div>
					<div class="card-body p-0">
							<table class="table table-sm">
								<thead>
										<tr>
											<th style="width: 10px">#</th>
											<th>Produto</th>
											<th>Progresso</th>
											<th style="width: 40px">Taxa</th>
										</tr>
								</thead>
								<tbody>
										<tr>
											<td>1.</td>
											<td>Update software</td>
											<td>
													<div class="progress progress-xs">
														<div class="progress-bar progress-bar-danger" style="width: 55%"></div>
													</div>
											</td>
											<td><span class="badge bg-danger">55%</span></td>
										</tr>
										<tr>
											<td>2.</td>
											<td>Clean database</td>
											<td>
													<div class="progress progress-xs">
														<div class="progress-bar bg-warning" style="width: 70%"></div>
													</div>
											</td>
											<td><span class="badge bg-warning">70%</span></td>
										</tr>
										<tr>
											<td>3.</td>
											<td>Cron job running</td>
											<td>
													<div class="progress progress-xs progress-striped active">
														<div class="progress-bar bg-primary" style="width: 30%"></div>
													</div>
											</td>
											<td><span class="badge bg-primary">30%</span></td>
										</tr>
										<tr>
											<td>4.</td>
											<td>Fix and squish bugs</td>
											<td>
													<div class="progress progress-xs progress-striped active">
														<div class="progress-bar bg-success" style="width: 90%"></div>
													</div>
											</td>
											<td><span class="badge bg-success">90%</span></td>
										</tr>
								</tbody>
							</table>
					</div><!--card-body-->
				</div><!--card-->
			</div><!--col-->
		</div><!--row-->
	<!--End Vencimento -->
			

		</div><!--container-fluid-->
	</main>
	<th:block th:fragment="scripts">
		<!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->
		<script th:src="@{/js/dashboard.js}" src=""></script>
		<script>
				$(function () {
						$('[data-toggle="popover"]').popover();
				});
		</script>
	</th:block>
</body>
</html>
