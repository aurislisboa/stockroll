<!DOCTYPE html>
<html th:replace="~{template_base :: layout (~{::title}, ~{::main}, _, ~{::scripts})}">
<head>
  <title>Formulário de Lote</title>
</head>
<body>
<main>
  <header class="col-sm-6 mb-5">         				
    <h3 class="m-0"><i class="nav-icon fas fa-cubes"></i>&ensp;
      [[${lote.id == null ? 'Cadastrar Novo' : 'Editar'}]] Lote</h3>
  </header>
  <div class="row">
    <div class="col-sm-6 col-md-6 mx-auto">
      <div class="card card-cyan card-outline">
          <form method="post" th:object="${lote}"> 
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">          
            <div class="card-body">
                <div class="form-group mb-3">
                    <label for="produto" class="form-label">Produto:</label>
                    <select class="form-control custom-select" th:field="*{produto}" title="Nome do Produto">
                        <option th:each="prod : ${produtos}" th:text="${prod.nome}" th:value="${prod.id}"></option>
                    </select>
                </div>
                <div class="form-group mb-3">
                    <label for="vencimento" class="form-label">Vencimento:</label>
                    <div class="input-group date">
                        <input type="date" class="form-control" th:field="*{vencimento}" title="Data de Vencimento do lote">
                    </div>
                </div>                
                <div class="form-group mb-3">
									<label for="quantidade">Quantidade:</label>
									<input type="number" class="form-control" th:field="*{quantidade}" min="1" 
                       required title="Quantidade de produtos que será cadastrado" placeholder="Digite a quantidade de produtos">
								</div>
                <div class="form-group mb-3">
                  <label for="valorUnitario" class="form-label">Preço Unitário:</label>
                  <input type="text" class="money form-control" th:field="*{valorUnitario}"
                     placeholder="R$ 0,00" min="0" required>
              </div>
                <!-- <div class="form-group mb-3">
                  <label for="nome" class="form-label">Nome do Lote:</label>
                  <input type="text" class="form-control" th:field="*{nome}"
                        placeholder="Digite o nome do lote" autofocus="true" required>
                </div> -->
              </div><!--card-body-->
              <div class="card-footer text-right">
                <button type="submit" class="btn btn-success">Salvar</button>
				        <a th:href="@{/lote}" type="submit" class="btn btn-default float-left">Cancelar</a>
              </div><!--card-footer-->
            </form>
      </div><!--card-->
    </div><!--col-->
  </div><!--row-->
</main>
</body>
<th:block th:fragment="scripts">	
		<script th:src="@{/webjars/AdminLTE/3.2.0/plugins/inputmask/jquery.inputmask.min.js}"></script>
		<script>
			$('.money').inputmask('decimal', {
					radixPoint:",",
					groupSeparator: ".",
					autoGroup: true,
					digits: 2,
					digitsOptional: false,
					placeholder: '0',
					rightAlign: false,
					onBeforeMask: function (value, opts) {
					return value;
					}
			});
		</script>
	</th:block>
</html>